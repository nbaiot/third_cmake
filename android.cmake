
if (NOT DEFINED ENV{NDK_HOME})
    message(FATAL_ERROR ">>>>>>>>>>builde error: not defined environment variable:NDK_HOME")
endif ()

set(NDK_TOOLCHAIN $ENV{NDK_HOME}/toolchains/llvm/prebuilt/${ANDROID_HOST_TAG})

set(NDK_AR ${ANDROID_TOOLCHAIN_PREFIX}ar${CMAKE_EXECUTABLE_SUFFIX})
set(NDK_AS ${ANDROID_TOOLCHAIN_PREFIX}as${CMAKE_EXECUTABLE_SUFFIX})
set(NDK_LD ${ANDROID_TOOLCHAIN_PREFIX}ld${CMAKE_EXECUTABLE_SUFFIX})
set(NDK_RANLIB ${ANDROID_TOOLCHAIN_PREFIX}ranlib${CMAKE_EXECUTABLE_SUFFIX})
set(NDK_STRIP ${ANDROID_TOOLCHAIN_PREFIX}strip${CMAKE_EXECUTABLE_SUFFIX})

if (ARMEABI_V7A)
    set(NDK_CC ${NDK_TOOLCHAIN}/bin/armv7a-linux-androideabi${ANDROID_PLATFORM_LEVEL}-clang${CMAKE_EXECUTABLE_SUFFIX})
    set(NDK_CXX ${NDK_TOOLCHAIN}/bin/armv7a-linux-androideabi${ANDROID_PLATFORM_LEVEL}-clang++${CMAKE_EXECUTABLE_SUFFIX})
elseif (ARM64_V8A)
    set(NDK_CC ${NDK_TOOLCHAIN}/bin/aarch64-linux-android${ANDROID_PLATFORM_LEVEL}-clang${CMAKE_EXECUTABLE_SUFFIX})
    set(NDK_CXX ${NDK_TOOLCHAIN}/bin/aarch64-linux-android${ANDROID_PLATFORM_LEVEL}-clang++${CMAKE_EXECUTABLE_SUFFIX})
elseif (X86)
    set(NDK_CC ${NDK_TOOLCHAIN}/bin/i686-linux-android${ANDROID_PLATFORM_LEVEL}-clang${CMAKE_EXECUTABLE_SUFFIX})
    set(NDK_CXX ${NDK_TOOLCHAIN}/bin/i686-linux-android${ANDROID_PLATFORM_LEVEL}-clang++${CMAKE_EXECUTABLE_SUFFIX})
else (X86_64)
    set(NDK_CC ${NDK_TOOLCHAIN}/bin/x86_64-linux-androideabi${ANDROID_PLATFORM_LEVEL}-clang${CMAKE_EXECUTABLE_SUFFIX})
    set(NDK_CXX ${NDK_TOOLCHAIN}/bin/x86_64-linux-androideabi${ANDROID_PLATFORM_LEVEL}-clang++${CMAKE_EXECUTABLE_SUFFIX})
endif()

message(STATUS ">>>>>>>>>>>>>>> NDK INFO <<<<<<<<<<<<<<<")
message(STATUS "NDK_CC:${NDK_CC}")
message(STATUS "NDK_CXX:${NDK_CXX}")
message(STATUS "NDK_AR:${NDK_AR}")
message(STATUS "NDK_AS:${NDK_AS}")
message(STATUS "NDK_LD:${NDK_LD}")
message(STATUS "NDK_RANLIB:${NDK_RANLIB}")
message(STATUS "NDK_STRIP:${NDK_STRIP}")